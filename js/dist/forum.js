(()=>{var t={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return t.d(r,{a:r}),r},d:(o,r)=>{for(var n in r)t.o(r,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o);const r=flarum.core.compat["forum/app"];var n=t.n(r);const e=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/components/IndexPage"];var a=t.n(s);function u(t,o){return u=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},u(t,o)}const i=flarum.core.compat["common/Component"];var c=t.n(i);const l=flarum.core.compat["common/helpers/username"];var f=t.n(l);const d=flarum.core.compat["common/utils/formatNumber"];var p=t.n(d);const v=flarum.core.compat["common/components/Link"];var b=t.n(v);const g=flarum.core.compat["common/components/LoadingIndicator"];var y=t.n(g);const _=flarum.core.compat["common/utils/ItemList"];var h=t.n(_),w="fof-forum-statistics-widget.forum.navbar.",O="fof-forum-statistics-widget.",S=function(t){var o,r;function e(){return t.apply(this,arguments)||this}r=t,(o=e).prototype=Object.create(r.prototype),o.prototype.constructor=o,u(o,r);var s=e.prototype;return s.oninit=function(o){var r=this;t.prototype.oninit.call(this,o);var e=n().forum.attribute(O+"lastUserId");e&&(this.loading=!0,n().store.find("users",e).then((function(t){r.user=t,r.loading=!1,m.redraw()})))},s.view=function(){if(this.loading)return m(y(),null);var t=this.items().toArray();return 0!==t.length?m("div",{class:"ForumStatistics containerNarrow"},m("div",{class:"row"},m("h2",null,m("i",{class:"fas fa-chart-bar"})," ",n().translator.trans(w+"widget_title")),m("div",null,m("ul",{id:"ForumStatisticsList"},t)))):void 0},s.items=function(){var t=new(h()),o=n().forum.attribute(O+"discussionsCount"),r=n().forum.attribute(O+"postsCount"),e=n().forum.attribute(O+"usersCount"),s=n().forum.attribute(O+"lastUserId");return o&&t.add("discussions_count",m("li",null,n().translator.trans(w+"discussions_count",{discussionsCount:p()(o)}))),r&&t.add("posts_count",m("li",null,n().translator.trans(w+"posts_count",{postsCount:p()(r)}))),e&&t.add("users_count",m("li",null,n().translator.trans(w+"users_count",{usersCount:p()(e)}))),s&&t.add("latest_member",m("li",null,n().translator.trans(w+"latest_member")," ",m(b(),{href:n().route.user(this.user)},m("strong",null,f()(this.user))))),t},e}(c());n().initializers.add("fof/forum-statistics-widget",(function(){(0,e.extend)(a().prototype,"sidebarItems",(function(t){t.add("forumStatisticsWidget",S.component(),n().forum.attribute("fof-forum-statistics-widget.widget_order"))}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map